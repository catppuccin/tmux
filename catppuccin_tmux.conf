source -F "#{d:current_file}/themes/catppuccin_#{@catppuccin_flavor}_tmux.conf"

source -F "#{d:current_file}/status/application.conf"
source -F "#{d:current_file}/status/battery.conf"
source -F "#{d:current_file}/status/clima.conf"
source -F "#{d:current_file}/status/cpu.conf"
source -F "#{d:current_file}/status/date_time.conf"
source -F "#{d:current_file}/status/directory.conf"
source -F "#{d:current_file}/status/host.conf"
source -F "#{d:current_file}/status/load.conf"
source -F "#{d:current_file}/status/pomodoro_plus.conf"
source -F "#{d:current_file}/status/session.conf"

set status-left-length "100"
set status-right-length "100"

%if "#{==:#{@catppuccin_status_background},default}"
  set -gF status-style "bg=#{@thm_bg},fg=#{@thm_fg}"
  %hidden CTP_MESSAGE_BACKGROUND="#{@thm_surface_0}"
%elif "#{==:#{@catppuccin_status_background},none}"
  %hidden CTP_MESSAGE_BACKGROUND="default"
  set -g status-style "$CTP_MESSAGE_BACKGROUND"
%else
  # Treat @catppuccin_status_background as a format string.
  %hidden CTP_MESSAGE_BACKGROUND="#{E:@catppuccin_status_background}"
  set -gF status-style "bg=$CTP_MESSAGE_BACKGROUND,fg=#{@thm_fg}"
%endif

# messages
set -gF message-style "fg=#{@thm_sky},bg=$CTP_MESSAGE_BACKGROUND,align=centre"
set -gF message-command-style "fg=#{@thm_sky},bg=$CTP_MESSAGE_BACKGROUND,align=centre"

# menu
%if "#{>=:#{version},3.4}"
set -gF menu-style "#{E:@catppuccin_menu_style}"
set -gF menu-selected-style "#{E:@catppuccin_menu_selected_style}"
set -gF menu-border-style "#{E:@catppuccin_menu_border_style}"
%endif

# panes
set -wF pane-active-border-style "#{E:@catppuccin_pane_active_border_style}"
set -wF pane-border-style "#{E:@catppuccin_pane_border_style}"

# popups
%if "#{>=:#{version},3.4}"
set -wF popup-style "bg=#{@thm_bg},fg=#{@thm_fg}"
set -wF popup-border-style "fg=#{@thm_surface_1}"
%endif

%if "#{==:#{@catppuccin_window_status_style},basic}"

set -gq @catppuccin_window_left_separator "█"
set -gq @catppuccin_window_middle_separator "█"
set -gq @catppuccin_window_right_separator "█"

%elif "#{==:#{@catppuccin_window_status_style},rounded}"

set -gq @catppuccin_window_left_separator ""
set -gq @catppuccin_window_middle_separator "█"
set -gq @catppuccin_window_right_separator ""

%elif "#{==:#{@catppuccin_window_status_style},slanted}"

set -gq @catppuccin_window_left_separator "█"
set -gq @catppuccin_window_middle_separator "█"
set -gq @catppuccin_window_right_separator "█"

%endif

# window status
%if "#{!=:#{@catppuccin_window_status_style},none}"
set -gF window-status-style "bg=#{@thm_mantle},fg=#{@thm_subtext_1}"
set -gF window-status-current-style "bg=#{E:@catppuccin_window_current_background},fg=#{E:@catppuccin_window_current_color}"
set -gF window-status-activity-style "bg=#{@thm_yellow},fg=#{@thm_crust}"
set -gF window-status-bell-style "bg=#{@thm_yellow},fg=#{@thm_crust}"

set -gF window-status-format "#[bg=default,fg=#{E:@catppuccin_window_default_background}]#{@catppuccin_window_left_separator}"
set -agF window-status-format "#[bg=#{E:@catppuccin_window_default_background},fg=#{@thm_crust}]##I"
set -agF window-status-format "#[bg=default,fg=#{E:@catppuccin_window_default_background}]#{@catppuccin_window_middle_separator}"
set -agF window-status-format "#[bg=#{E:@catppuccin_window_default_color},fg=#{@thm_fg}] ##T"
set -agF window-status-format "#[bg=default,fg=#{E:@catppuccin_window_default_color}]#{@catppuccin_window_right_separator}"

set -gF window-status-current-format "#[bg=default,fg=#{E:@catppuccin_window_current_background}]#{@catppuccin_window_left_separator}"
set -agF window-status-current-format "#[bg=#{E:@catppuccin_window_current_background},fg=#{@thm_crust}]##I"
set -agF window-status-current-format "#[bg=default,fg=#{E:@catppuccin_window_current_background}]#{@catppuccin_window_middle_separator}"
set -agF window-status-current-format "#[bg=#{E:@catppuccin_window_current_color},fg=#{@thm_fg}] ##T"
set -agF window-status-current-format "#[bg=default,fg=#{E:@catppuccin_window_current_color}]#{@catppuccin_window_right_separator}"
%endif

# modes
set -wF mode-style "fg=#{@thm_pink},bg=#{@thm_surface_2},bold"
set -wF clock-mode-colour "#{@thm_blue}"


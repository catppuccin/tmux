source -F "#{d:current_file}/themes/catppuccin_#{@catppuccin_flavor}.tmuxtheme"

set -gF status-justify "#{@catppuccin_status_justify}"


  # Batch options for `./catppuccin.tmux`
  # add_tmux_batch_option "@catppuccin_status_default"
  # add_tmux_batch_option "@catppuccin_status_justify"
  # add_tmux_batch_option "@catppuccin_status_background"
  # add_tmux_batch_option "@catppuccin_menu_style"
  # add_tmux_batch_option "@catppuccin_menu_selected_style"
  # add_tmux_batch_option "@catppuccin_menu_border_style"
  # add_tmux_batch_option "@catppuccin_pane_status_enabled"
  # add_tmux_batch_option "@catppuccin_pane_border_status"
  # add_tmux_batch_option "@catppuccin_pane_border_style"
  # add_tmux_batch_option "@catppuccin_pane_active_border_style"
  # add_tmux_batch_option "@catppuccin_pane_left_separator"
  # add_tmux_batch_option "@catppuccin_pane_middle_separator"
  # add_tmux_batch_option "@catppuccin_pane_right_separator"
  # add_tmux_batch_option "@catppuccin_pane_number_position"
  # add_tmux_batch_option "@catppuccin_window_separator"
  # add_tmux_batch_option "@catppuccin_window_left_separator"
  # add_tmux_batch_option "@catppuccin_window_right_separator"
  # add_tmux_batch_option "@catppuccin_window_middle_separator"
  # add_tmux_batch_option "@catppuccin_window_number_position"
  # add_tmux_batch_option "@catppuccin_window_status"
  # add_tmux_batch_option "@catppuccin_status_left_separator"
  # add_tmux_batch_option "@catppuccin_status_right_separator"
  # add_tmux_batch_option "@catppuccin_status_connect_separator"
  # add_tmux_batch_option "@catppuccin_status_fill"
  # add_tmux_batch_option "@catppuccin_status_modules_left"
  # add_tmux_batch_option "@catppuccin_status_modules_right"

  # run_tmux_batch_commands

  # status general
  # local status_default status_justify status_background message_background
  # status_default=$(get_tmux_batch_option "@catppuccin_status_default" "on")
  # shellcheck disable=SC2121


set status-left-length "100"
set status-right-length "100"


%if "#{==:#{@catppuccin_status_background},theme}"
  set -gF status-bg "#{@thm_bg}"
  set -gF @message_background "#{@thm_gray}"
%elif "#{==:#{@catppuccin_status_background},default}"
  set -g status-bg "default"
  set -g @message_background "default"
%else
  # Treat @catppuccin_status_background as a format string.
  set -gF @message_background "#{E:@catppuccin_status_background}"
  set -gF status-bg "#{@message_background}"
%endif

# messages
set -gF message-style "fg=#{@thm_cyan},bg=#{@message_background},align=centre"
set -gF message-command-style "fg=#{@thm_cyan},bg=#{@message_background},align=centre"

# menu
set -F menu-style "#{E:@catppuccin_menu_style}"
set -F menu-selected-style "#{E:@catppuccin_menu_selected_style}"
set -F menu-border-style "#{E:@catppuccin_menu_border_style}"


# Source the status line modules

# panes
#pane_format=$(load_modules "pane_default_format" "$modules_custom_path" "$modules_pane_path")

set -wF pane-active-border-style "#{E:@catppuccin_pane_active_border_style}"
set -wF pane-border-status "$pane_border_status"
set -wF pane-border-style "#{E:@catppuccin_pane_border_style}"
set -wF pane-border-format "$(do_color_interpolation "$pane_format")"

  # window
  # local window_status_separator window_left_separator window_right_separator \
  #   window_middle_separator window_number_position window_status_enable \
  #   window_format window_current_format
  #
  # window_status_separator=$(get_interpolated_tmux_batch_option "@catppuccin_window_separator" "")
  # setw window-status-separator "$window_status_separator"
  #
  # window_left_separator=$(get_tmux_batch_option "@catppuccin_window_left_separator" "█")
  # window_right_separator=$(get_tmux_batch_option "@catppuccin_window_right_separator" "█")
  # window_middle_separator=$(get_tmux_batch_option "@catppuccin_window_middle_separator" "█ ")
  # window_number_position=$(get_tmux_batch_option "@catppuccin_window_number_position" "left") # right, left

  # NOTE: update default to `"no"` when removing the backwards compatibility for
  # `@catppuccin_window_status_enable` and
  # `@catppuccin_window_status_icon_enable` in ./builder/window_builder.sh
  # window_status=$(get_tmux_batch_option "@catppuccin_window_status" "no") # no, icon, text
  #
  # window_format=$(load_modules "window_default_format" "$modules_custom_path" "$modules_window_path")
  # setw window-status-format "$(do_color_interpolation "$window_format")"
  #
  # window_current_format=$(load_modules "window_current_format" "$modules_custom_path" "$modules_window_path")
  # setw window-status-current-format "$(do_color_interpolation "$window_current_format")"

# modes
set -wF mode-style "fg=#{@thm_pink},bg=#{@thm_black4},bold"
set -wF clock-mode-colour "#{@thm_blue}"

